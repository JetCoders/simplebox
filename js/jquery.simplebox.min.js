/**
 * jQuery simplebox v1.0.0
 * Copyright (c) 2016 JetCoders
 * email: yuriy.shpak@jetcoders.com
 * www: JetCoders.com
 * Licensed under the MIT License:
 * http://www.opensource.org/licenses/mit-license.php
 **/

!function(o){var e=function(e,i){if(o.simplebox.modal){var s=o.simplebox.modal.data("simplebox");s.onClose(o.simplebox.modal),o.simplebox.modal.fadeOut(s.duration,function(){o.simplebox.modal.css({left:"-9999px",top:"-9999px"}).show(),s.afterClose(o.simplebox.modal),o.simplebox.modal.removeData("simplebox"),o.simplebox.modal=!1,l(e,i)})}else l(e,i)},i=function(){return o(document).width()>o("body").width()?o(document).width():jQuery("body").width()},l=function(e,l){o.simplebox.modal=o(e),o.simplebox.modal.data("simplebox",l);var m=o.simplebox.modal.data("simplebox");m.btnClose=o.simplebox.modal.find(m.linkClose);var a=o(window).scrollTop()+o(window).height()/2-o.simplebox.modal.outerHeight(!0)/2;o(window).scrollTop()>a&&(a=o(window).scrollTop()),a+o.simplebox.modal.outerHeight(!0)>o(document).height()&&(a=o(document).height()-o.simplebox.modal.outerHeight(!0)),0>a&&(a=0),m.positionFrom?o.simplebox.modal.css({zIndex:1e3,top:o(m.positionFrom).offset().top+o(m.positionFrom).outerHeight(!0),left:o(m.positionFrom).offset().left}).hide():o.simplebox.modal.css({zIndex:1e3,top:m.fixed?0:a,left:m.fixed?0:i()/2-o.simplebox.modal.outerWidth(!0)/2}).hide(),s(m),t(m,m.btnClose),m.overlay.closeClick&&t(m,o.simplebox.overlay)},s=function(e){e.onOpen(o.simplebox.modal),e.overlay?o.simplebox.overlay.css({background:e.overlay.color,opacity:e.overlay.opacity}).fadeIn(e.duration,function(){o.simplebox.modal.fadeIn(e.duration,function(){o.simplebox.busy=!1,e.afterOpen(o.simplebox.modal),o(window).scrollTop()>o.simplebox.modal.offset().top&&!e.fixed&&o("html, body").animate({scrollTop:o.simplebox.modal.offset().top},500)})}):(o.simplebox.overlay.fadeOut(e.duration),o.simplebox.modal.fadeIn(e.duration,function(){o.simplebox.busy=!1,e.afterOpen(o.simplebox.modal),o(window).scrollTop()>o.simplebox.modal.offset().top&&o("html, body").animate({scrollTop:o.simplebox.modal.offset().top},500)}))},t=function(e,i){i.unbind("click.simplebox").bind("click.simplebox",function(){return o.simplebox.busy||(o.simplebox.busy=!0,e.onClose(o.simplebox.modal),o.simplebox.modal.fadeOut(e.duration,function(){o.simplebox.modal.css({left:"-9999px",top:"-9999px"}).show(),o.simplebox.overlay.fadeOut(e.duration,function(){e.afterClose(o.simplebox.modal),o.simplebox.modal.removeData("simplebox"),o.simplebox.modal=!1,o.simplebox.busy=!1})})),!1})},m={init:function(i){return o(this).unbind("click.simplebox").bind("click.simplebox",function(){o(this).data("simplebox");return o(this).hasClass(a.disableClass)||o.simplebox.busy||(o.simplebox.busy=!0,e(o(this).attr("href")?o(this).attr("href"):o(this).data("href"),jQuery.extend(!0,{},a,i))),!1}),this},option:function(e,i){if(i)return this.each(function(){var l=o(this).data("simplebox");l&&(l[e]=i)});var l=[];return this.each(function(){var i=o(this).data("simplebox");i&&l.push(i[e])}),l.length>1?l:l[0]}},a={duration:300,linkClose:".close, .btn-close",disableClass:"disabled",overlay:{box:"simplebox-overlay",color:"black",closeClick:!0,opacity:.3},positionFrom:!1,fixed:!1,onOpen:function(){},afterOpen:function(){},onClose:function(){},afterClose:function(){}};o.fn.simplebox=function(e){return m[e]?m[e].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof e&&e?void o.error("Method "+e+" does not exist on jQuery.simplebox"):m.init.apply(this,arguments)},o.simplebox=function(i,l){o.simplebox.busy||(o.simplebox.busy=!0,e(i,jQuery.extend(!0,{},a,l)))},o.simplebox.init=function(){o.simplebox.overlay||(o.simplebox.overlay=jQuery('<div class="'+a.overlay.box+'"></div>'),jQuery("body").append(o.simplebox.overlay),o.simplebox.overlay.css({position:"fixed",zIndex:999,left:0,top:0,width:"100%",height:"100%",background:a.overlay.color,opacity:a.overlay.opacity}).hide()),o(document).unbind("keypress.simplebox").bind("keypress.simplebox",function(e){o.simplebox.modal&&o.simplebox.modal.is(":visible")&&27==e.keyCode&&o.simplebox.close()}),o(window).bind("resize.simplebox",function(){if(o.simplebox.modal&&o.simplebox.modal.is(":visible")){var e=o.simplebox.modal.data("simplebox");e.positionFrom?o.simplebox.modal.animate({top:o(e.positionFrom).offset().top+o(e.positionFrom).outerHeight(!0),left:o(e.positionFrom).offset().left},{queue:!1,duration:o.simplebox.modal.data("simplebox").duration}):o.simplebox.modal.animate({left:i()/2-o.simplebox.modal.outerWidth(!0)/2},{queue:!1,duration:o.simplebox.modal.data("simplebox").duration})}})},o.simplebox.close=function(){if(o.simplebox.modal&&!o.simplebox.busy){var e=o.simplebox.modal.data("simplebox");o.simplebox.busy=!0,e.onClose(o.simplebox.modal),o.simplebox.modal.fadeOut(e.duration,function(){o.simplebox.modal.css({left:"-9999px",top:"-9999px"}).show(),o.simplebox.overlay?o.simplebox.overlay.fadeOut(e.duration,function(){e.afterClose(o.simplebox.modal),o.simplebox.modal.removeData("simplebox"),o.simplebox.modal=!1,o.simplebox.busy=!1}):(e.afterClose(o.simplebox.modal),o.simplebox.modal.removeData("simplebox"),o.simplebox.modal=!1,o.simplebox.busy=!1)})}},o(document).ready(function(){o.simplebox.init()})}(jQuery);